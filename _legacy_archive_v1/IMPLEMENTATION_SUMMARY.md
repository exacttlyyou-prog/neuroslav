# –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –ü–æ–ª—É—á–µ–Ω–∏–µ AI Meeting Notes –∏–∑ Notion

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Notion AI API –∫–ª–∏–µ–Ω—Ç (`integrations/notion_ai_api.py`)
- –ü—Ä–æ–±—É–µ—Ç –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã Notion API
- –í–∞—Ä–∏–∞–Ω—Ç—ã: `/export`, `/view`, `/transcript`, `/content`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `include_ai_content`, `expand=transcription`
- **–°—Ç–∞—Ç—É—Å**: –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (AI Meeting Notes –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π API)

### 2. MCP –∫–ª–∏–µ–Ω—Ç (`integrations/mcp_client.py`)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SSE –∏ Streamable HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω (Bearer + Notion-Version)
- Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ stdio
- **–°—Ç–∞—Ç—É—Å**: Remote MCP —Ç—Ä–µ–±—É–µ—Ç OAuth, –ª–æ–∫–∞–ª—å–Ω—ã–π –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å transcription –±–ª–æ–∫–∏

### 3. NotionService (`services/notion_service.py`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞ (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö vs —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
- –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π fallback:
  1. Notion AI API (–Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
  2. Remote MCP (SSE/HTTP)
  3. –õ–æ–∫–∞–ª—å–Ω—ã–π MCP (stdio)
  4. –ö—ç—à MCP
  5. –û–±—ã—á–Ω—ã–π Notion API —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ transcription –±–ª–æ–∫–æ–≤
- –ü—Ä–æ–ø—É—Å–∫ transcription –±–ª–æ–∫–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –±–ª–æ–∫–æ–≤ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

## üìä –¢–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ `ce32758331a5406694f86b8bd292605a`
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–ª—É—á–µ–Ω —á–µ—Ä–µ–∑ fallback API (173 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚ö†Ô∏è –¢–æ–ª—å–∫–æ unsupported –±–ª–æ–∫–∏ (transcription –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ `2edfa7fd637180b98715fa9f348f90f9`
- ‚ùå –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –ø–æ–ª—É—á–µ–Ω
- –ü—Ä–∏—á–∏–Ω–∞: –¢–æ–ª—å–∫–æ transcription –±–ª–æ–∫–∏, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —á–µ—Ä–µ–∑ API

## üîë –¢–æ–∫–µ–Ω

- **–¢–æ–∫–µ–Ω**: `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`
- **–¢–∏–ø**: Notion Integration Token
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±—ã—á–Ω—ã–º Notion API
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –ù–µ OAuth —Ç–æ–∫–µ–Ω –¥–ª—è remote MCP

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Transcription –±–ª–æ–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Notion API**
   - –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º API
   - –ù–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

2. **Remote MCP —Ç—Ä–µ–±—É–µ—Ç OAuth**
   - –¢–æ–∫–µ–Ω `ntn_...` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è OAuth —Ç–æ–∫–µ–Ω–æ–º
   - –ù—É–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

3. **–õ–æ–∫–∞–ª—å–Ω—ã–π MCP –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å transcription –±–ª–æ–∫–∏**
   - `@notionhq/notion-mcp-server` –Ω–µ –∏–º–µ–µ—Ç `notion-fetch`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É "Block type transcription is not supported"

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è transcription –±–ª–æ–∫–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Cursor MCP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Command Palette (Cmd+Shift+P)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `notion-fetch`
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `mcp_response.json`
4. –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth –¥–ª—è remote MCP**
- –ü–æ–ª—É—á–∏—Ç–µ OAuth —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Notion
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ `https://mcp.notion.com/sse`

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**
- –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —á–µ—Ä–µ–∑ fallback API
- Transcription –±–ª–æ–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è, –Ω–æ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω

## üìÅ –§–∞–π–ª—ã

- `integrations/notion_ai_api.py` - Notion AI API –∫–ª–∏–µ–Ω—Ç
- `integrations/mcp_client.py` - MCP –∫–ª–∏–µ–Ω—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω)
- `services/notion_service.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (–æ–±–Ω–æ–≤–ª–µ–Ω)
- `core/config.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–æ–±–∞–≤–ª–µ–Ω `notion_mcp_token`)
- `.env` - –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–∞–∫ `NOTION_MCP_TOKEN`

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—Å—Ç—Ä–µ—á–∏
python run_last_meeting.py

# –¢–µ—Å—Ç AI API
python test_ai_api.py

# –¢–µ—Å—Ç MCP
python test_mcp_sse.py

# –û–±—â–∏–π —Ç–µ—Å—Ç
python test_simple.py
```
