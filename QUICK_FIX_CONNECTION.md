# Быстрое решение проблемы "Connection Failed"

## Проблема
Фронтенд не может подключиться к бэкенду, ошибка "Failed to fetch" или "Connection failed".

## Решение

### Шаг 1: Запустите бэкенд

Откройте новый терминал и выполните:

```bash
cd apps/api
source .venv/bin/activate  # или .venv\Scripts\activate на Windows
uvicorn app.main:app --reload --port 8000
```

Должно появиться:
```
INFO:     Uvicorn running on http://0.0.0.0:8000
INFO:     Application startup complete.
```

### Шаг 2: Проверьте, что бэкенд работает

В другом терминале:
```bash
curl http://localhost:8000/health
```

Должен вернуться: `{"status":"healthy"}`

### Шаг 3: Перезапустите фронтенд

Если фронтенд уже запущен, перезапустите его:
```bash
cd apps/web
npm run dev
```

## Что было исправлено

1. ✅ Добавлена обработка ошибок подключения во всех API routes
2. ✅ Улучшены сообщения об ошибках (теперь показывают, что бэкенд не запущен)
3. ✅ Фронтенд не падает при ошибках подключения (показывает пустые списки)

## Проверка работы

1. Откройте http://localhost:3000
2. Попробуйте загрузить список задач
3. Если бэкенд не запущен, увидите пустой список (без ошибок в консоли)
4. Если бэкенд запущен, данные должны загрузиться

## Альтернатива: Использование прямого подключения

Если хотите, чтобы фронтенд подключался напрямую к бэкенду (без Next.js API routes):

1. Создайте `apps/web/.env.local`:
```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

2. Перезапустите фронтенд

**Важно:** При прямом подключении нужен запущенный бэкенд, иначе будут ошибки CORS или подключения.
