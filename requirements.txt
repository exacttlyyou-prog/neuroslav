# Минимальные зависимости для Vercel deployment
# Только то, что нужно для Telegram webhook и базовой функциональности
# Полный список зависимостей для локальной разработки: apps/api/requirements.txt

# FastAPI и сервер
fastapi==0.109.0
uvicorn[standard]==0.27.0

# Telegram (фиксируем версию — uv иначе тянет транзитивы с python>=3.14)
python-telegram-bot==21.7

# Pydantic для валидации (строгие версии без маркеров 3.14)
pydantic==2.9.2
pydantic-settings==2.2.1

# Database
sqlalchemy>=2.0.45
aiosqlite==0.19.0

# HTTP клиент
httpx==0.27.0
python-multipart==0.0.6

# Логирование
loguru==0.7.2

# Notion (если используется)
notion-client==2.2.1

# Утилиты
tenacity==8.2.3
python-dateutil==2.8.2
dateparser==1.2.0

# Миграции БД
alembic==1.14.0

# Утилиты
psutil==6.1.0
beautifulsoup4==4.12.2

# NOTE: Тяжелые зависимости удалены для Vercel:
# - chromadb (слишком тяжелый, требует langchain-core)
# - sentence-transformers (очень тяжелый)
# - playwright (слишком тяжелый для serverless)
# - ollama (локальный сервис, не нужен на Vercel)
# - numpy (может быть проблематичным)
# - langchain (удален, используем собственную реализацию text_splitter)
# - langchain-core (конфликт версий)
# - langchain-text-splitters (конфликт версий)
# - langsmith (конфликт версий)

# ВАЖНО: Если uv пытается установить langchain зависимости транзитивно,
# это означает, что какая-то зависимость их требует. Проверь зависимости
# всех пакетов и обнови их версии, если нужно.
